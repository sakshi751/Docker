name: Access JSON Data

on:
  push:
    branches:
      - main

jobs:
  accessData:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Access JSON data
        id: access
        run: |
          # Retrieve the JSON data and store it in a variable
          echo "{\"id\": 12345, \"name\": \"example\"}" >> data.json
          echo "::set-output name=data::$(cat data.json)"

      - name: Extract ID
        id: extract
        run: |
          # Parse the JSON data and extract the ID
          json_data="${{ steps.access.outputs.data }}"
          id=$(echo $json_data | jq -r '.id')
          echo "::set-output name=id::$id"

      - name: Use the extracted ID
        run: |
          # Access the extracted ID
          extracted_id="${{ steps.extract.outputs.id }}"
          echo "Extracted ID: $extracted_id"

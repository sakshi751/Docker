name: Build
on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize, reopened]
jobs:
  sonarcloud:
    name: SonarCloud
    runs-on: ubuntu-latest
    steps:
        - name: Update ChaRM id in Jira
          env:
             req: '{"update": {"customfield_10223": [{"set": "1234567"}],"comment": [{"add": {"body": "hello from github"}}]}}'
          run: |
               echo "${{fromJSON(env.req).update}}"
               #  curl -X PUT 'https://cpg-gpc-xt-hub.atlassian.net/rest/api/2/issue/${{env.ricefw_id}}' -H 'Accept: application/json' -H 'Content-Type: application/json' -d "{\"update\": {\"customfield_10223\": [{\"set\": \"0980\"}],\"comment\": [{\"add\": {\"body\": \"Hello from Github\"}}]}}" --user "arpit.munet@canadapost.postescanada.ca:ATATT3xFfGF0CN_TLmDqcC1v3iXK4KhCGTOS4d7kaFnhZJdB4G8Bva11bg7PRwuBLzXe6JThfmaqIkOBdKwo9Ow-3JbsXajR48Y2zAoeam2bW3e-9BZKJIt2agIePUMmWLIGkDnYG3dA265DFCjJTbWKSuMuR_1AmXGjHRfQx-Yy8NYa4ubIQ_Y=4AFFCC89"

#       - uses: actions/checkout@v3
#         with:
#           fetch-depth: 0  # Shallow clones should be disabled for a better relevancy of analysis
#       - name: SonarCloud Scan
#         uses: SonarSource/sonarcloud-github-action@master
#         env:
#           GITHUB_TOKEN: ${{ secrets.TOKEN }}  # Needed to get PR information, if any
#           SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
        
